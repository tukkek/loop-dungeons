import*as o from"../model/unit/actor/hero/kit.js";import*as r from"../model/unit/actor/hero/hero.js";import*as e from"../control/rpg.js";import*as n from"../control/engine.js";import*as c from"../control/audio.js";const i=document.querySelector("#menu"),s=i.querySelector("#kit"),l=i.querySelector(".description"),a=Array.from(i.querySelectorAll("#difficulty button"));var d=n.debug&&n.debug.kit;function u(e){for(var t of s.querySelectorAll("button")){var o=t.classList;t.textContent!=e.name?o.remove("selected"):(o.add("selected"),d=e)}l.textContent=e.description}function m(e){for(var t of a)t.classList.remove("selected");e.classList.add("selected")}function f(){i.classList.add("hidden");var e=new r.Hero,t=(d.apply(e),a.find(e=>e.classList.contains("selected"))),t=a.indexOf(t)-1;e.force-=t,e.speed-=t,e.magic-=t,n.setup(e)}function t(){for(let e of o.kits){var t=document.createElement("button");t.textContent=e.name,t.kit=e,t.onmouseenter=()=>l.textContent=e.description,t.onmouseleave=()=>l.textContent=d.description,t.onclick=()=>u(e),s.appendChild(t)}d||u(e.pick(s.querySelectorAll("button")).kit);for(let e of a)e.onclick=()=>m(e);i.querySelector("#start").onclick=f,n.debug?f():c.play(c.intro)}export{t as setup};