import*as r from"./map.js";import*as c from"../control/engine.js";const t=new Map([["ArrowUp","north"],["ArrowRight","east"],["ArrowDown","south"],["ArrowLeft","west"],["w","north"],["d","east"],["s","south"],["a","west"],["5","north"],["3","east"],["2","south"],["1","west"],["x","explore"]]);function n(e){e.classList.add("active")}function u(e){e.classList.remove("active")}function o(e,t,o){n(o.target),setTimeout(()=>u(o.target),200),c.floor.move(c.hero,e,t),r.update()}function e(e){e=t.get(e.key);e&&document.querySelector("#"+e).click()}function s(e){e=e.target;c.explore?(u(e),c.autoexplore(!1)):(n(e),c.autoexplore())}function i(){document.querySelector("#north").onclick=e=>o(0,1,e),document.querySelector("#east").onclick=e=>o(1,0,e),document.querySelector("#south").onclick=e=>o(0,-1,e),document.querySelector("#west").onclick=e=>o(-1,0,e),document.querySelector("#explore").onclick=e=>s(e),window.addEventListener("keyup",e)}export{i as setup};