import*as l from"../model/point.js";import*as p from"./map.js";import*as s from"../control/engine.js";class e{constructor(e,n){this.direction=e,this.image=n}match(e,n){return this.direction.equals(new l.Point(e,n))}get x(){return this.direction.x}get y(){return this.direction.y}}var n=new e(new l.Point(0,1),"Purple_tiles 4.png"),t=new e(new l.Point(1,1),"Purple_tiles 5.png"),i=new e(new l.Point(1,0),"Purple_tiles 12.png"),r=new e(new l.Point(1,-1),"Purple_tiles nw.png"),o=new e(new l.Point(0,-1),"Purple_tiles 16.png"),a=new e(new l.Point(-1,-1),"Purple_tiles 15.png"),w=new e(new l.Point(-1,0),"Purple_tiles 8.png"),g=new e(new l.Point(-1,1),"Purple_tiles 3.png"),u=[n,t,i,r,o,a,w,g],P=new Map([[o,"Purple_tiles 10.png"],[a,w.image],[r,i.image]]);function m(e,n,t,i){var r=document.createElement("img");return r.src="assets/stages/purple/"+e,r.style.left=t+"px",r.style.top=i+"px",p.container.appendChild(r),r}function c(e){for(var n of u){var t,i,r,o;""!=n.image&&((!(t=new l.Point(e.x+n.x,e.y+n.y)).validate(0,0,p.width,p.height)||s.floor.wall(t.x,t.y))&&(i=(t=e.position).left+32*n.x,r=t.top-32*n.y,m(n.image,e,i,r),o=P.get(n)))&&(m(o,e,i,r).style["z-index"]=-1)}}export{c as dress};