import*as s from"../../view/sidebar.js";import*as e from"../../control/rpg.js";import*as r from"../../control/engine.js";var o=0,t=1,i=2,n=3,a=4,h=[o,t,i,n,a];const c="Inflict critical damage on hit",u="Ignore damage when hit",l="Reduce enemy speed when dodging";class d{constructor(e,t,s,r){this.name=e,this.effect=s,this.image=t,this.slot=r,this.level=1,this.effect="",this.cooling=!1}toString(){return`+${this.level} `+this.name.toLowerCase()}use(){return!(e.roll()>this.level)&&(this.cooling=!0)}hit(e,t){return!0}dodge(e,t){return!0}get canupgrade(){return this.level<5&&r.hero.xp>=this.level}}class g extends d{constructor(e,t){super(e,t,c,o),this.effect=c}hit(e,t){return t==r.hero||t.hp-t.wounds<=1||!this.use()||(t.damage(),s.warn("Critical damage!")),!0}}class m extends d{constructor(e,t,s,r){super(name,t,u,r),this.effect=u}hit(e,t){return e==r.hero||!this.use()||(s.warn("You block the attack!"),!1)}}class p extends d{constructor(e,t){super(e,t,l,a),this.effect=l}dodge(e,t){return e!=r.hero&&this.use()&&(--e.speed,e.speed<1&&(e.speed=1),s.warn(`You out-maneuver the ${e.name}!`)),!0}}export{o as weapon,t as support,i as body,n as head,a as boots,h as slots,d as Gear,g as Weapon,m as Armor,p as Boots};