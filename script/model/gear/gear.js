import*as r from"../../view/sidebar.js";import*as e from"../../control/rpg.js";import*as s from"../../control/engine.js";var o=0,t=1,n=2,i=3,a=4,h=[o,t,n,i,a];const c="Inflict critical damage on hit",u="Ignore damage when hit",l="Reduce enemy speed when dodging";class d{constructor(e,t,r,s){this.name=e,this.image=t,this.effect=r,this.slot=s,this.level=1,this.cooling=!1}toString(){return`+${this.level} `+this.name.toLowerCase()}use(){return!(e.roll()>this.level)&&(this.cooling=!0)}hit(e,t){return!0}dodge(e,t){return!0}get canupgrade(){return this.level<5&&s.hero.xp>=this.level}}class g extends d{constructor(e,t,r=c){super(e,t,r,o)}hit(e,t){return t==s.hero||t.hp-t.wounds<=1||!this.use()||(t.damage(),r.warn("Critical damage!")),!0}}class m extends d{constructor(e,t,r){super(e,t,u,r)}hit(e,t){return e==s.hero||!this.use()||(r.warn("You block the attack!"),!1)}}class p extends d{constructor(e,t){super(e,t,l,a)}dodge(e,t){return e!=s.hero&&this.use()&&(--e.speed,e.speed<1&&(e.speed=1),r.warn(`You out-maneuver the ${e.name}!`)),!0}}export{o as weapon,t as support,n as body,i as head,a as feet,h as slots,d as Gear,g as Weapon,m as Armor,p as Boots};