import*as r from"../actor.js";import*as t from"../../../gear/gear.js";import*as e from"../../../../view/sidebar.js";import*as o from"../../../../view/hotbar.js";import*as i from"../../../../control/rpg.js";import*as s from"../../../../control/engine.js";class a extends r.Actor{constructor(){super("Hero","",3),this.zindex+=1,this.hp=5,this.xp=0,this.gear=new Array(t.slots.length),this.bag=[]}equip(r){this.gear[r.slot]=r}value(){return 0}learn(r){r==this||5<=this.xp||i.roll()>r.level||(this.xp+=1,this.gear.find(r=>r.canupgrade)&&e.log("You can upgrade items."))}cool(){for(var r of this.gear)r.cooling&&this.roll(this.magic)&&this.roll(this.magic)&&(r.cooling=!1)}turn(){for(var r of this.gear)r.cooling=!1}dodge(r,t){var e=o.active;return e&&e.dodge(r,t)}hit(r,t){var e=o.active;return!e||e.hit(r,t)}flee(){return!(!o.active||!o.active.flee()||(s.autoexplore(!1),0))}grab(r){return 6<=this.bag.length?(e.log("Your bag is full..."),!1):(this.bag.push(r),!0)}get classname(){return"hero"}}export{a as Hero};