import*as e from"../unit.js";import*as r from"../../../control/rpg.js";import*as t from"../../../control/engine.js";import*as s from"../../../control/driver.js";import*as i from"../../../control/mechanic/combat.js";import*as o from"../../../view/sidebar.js";class n extends e.Unit{constructor(e,t,r){super(t),this.name=e,this.level=r,this.force=r,this.speed=r,this.magic=r,this.hp=2,this.wounds=0}get wounded(){return this.wounds>=this.hp/2}roll(e){let t=r.roll();return this.wounded&&(t+=1),5<e?e=5:e<1&&(e=1),t<=e}get initiative(){return r.roll()+this.speed+(this.wounded?-1:0)}toString(){return this.name}damage(){return this.report("").wound=this}value(){return-this.level}remove(){t.hero.learn(this),super.remove()}turn(){0!=this.wounds&&(this.wounds=0,o.warn(`The ${this.name} fully heals.`))}get dead(){return this.wounds>=this.hp}dodge(e,t){return!0}hit(e,t){return!0}report(e,t="cast"){return i.report(this,e,t)}get classname(){return this.name.toLowerCase().replaceAll(" ","")}describe(){var e=this.ability||"?";return[this+", level "+this.level,"Force: "+this.force,"Speed: "+this.speed,"Magic: "+this.magic,"Ability: "+e]}flee(){return!1}}export{n as Actor};