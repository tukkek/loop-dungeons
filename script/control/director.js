import*as e from"../view/scape.js";import*as s from"./mechanic/combat.js";import*as t from"./engine.js";class i{constructor(s,t,i){this.units=[s,t],this.floor=i,this.scape=new e.Scape(this),this.fled=!1}end(){return this.fled||this.units.find(s=>s.dead)}flee(){return!!this.fled||(this.fled=this.units.find(s=>s.flee()),this.fled)}report(){return 0==s.reports.length&&(this.scape.round(),s.fight(this.units[0],this.units[1])),s.reports.shift()}start(){this.scape.lock(),this.scape.draw(),this.scape.show()}wrap(){t.turn()}}export{i as Director};