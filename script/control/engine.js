import*as e from"../view/map.js";import*as r from"../view/sidebar.js";import*as o from"../model/unit/actor/hero/hero.js";import*as n from"../model/dungeon/dungeon.js";import*as t from"./driver.js";import*as a from"../model/unit/actor/hero/kit.js";import*as s from"./audio.js";var i=!1,m=!1,u=!1,p=!1,f=new URL(document.location).searchParams.has("debug");function d(o){t.reset(),(u=o).enter(i),e.setup(o)}function c(){r.warn("Welcome to Loop Dungeons!");for(var o of i.gear)r.log(`You have: ${o.name.toLowerCase()}.`)}function l(){i||(i=new o.Hero,a.knight.apply(i),c(),f)||s.intro.play(),d((m=new n.Dungeon).floors[0])}function w(){l(),r.setup(),t.setup()}function g(o=!0){p=o}function h(o){let e=0;for(;0<o&&0<i.wounds;o--)--i.wounds,e+=1;for(;0<o&&i.xp<5;o--)i.xp+=1;r.update()}export{i as hero,m as dungeon,u as floor,p as explore,f as debug,d as enter,l as start,w as setup,g as autoexplore,h as loot};